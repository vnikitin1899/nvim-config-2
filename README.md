# Neovim Configuration

Конфигурация Neovim с использованием lazy.nvim как менеджера плагинов.

## Структура проекта

```
nvim/
├── init.lua                 # Точка входа, загружает lazy.nvim
├── lua/
│   ├── config/
│   │   ├── lazy.lua        # Настройка lazy.nvim
│   │   ├── shortcuts.lua   # Пользовательские маппинги
│   │   └── colors.lua      # Настройки цветовой схемы (включая JSDoc)
│   └── plugins/
│       ├── telescope.lua   # Конфигурация плагина Telescope
│       └── treesitter.lua  # Подсветка синтаксиса через Treesitter
└── lazy-lock.json          # Зафиксированные версии плагинов
```

## Установка

1. Убедитесь, что у вас установлен Neovim (версия 0.9+)
2. Склонируйте этот репозиторий в `~/.config/nvim/`
3. Запустите Neovim - lazy.nvim автоматически установится при первом запуске

## Плагины

### Установленные плагины

- **lazy.nvim** - Менеджер плагинов
- **telescope.nvim** (v0.2.0) - Файловый поиск и навигация
  - Зависимость: plenary.nvim
- **nvim-treesitter** - Подсветка синтаксиса и парсинг кода
- **codecompanion.nvim** - AI помощник для кода

### Добавление нового плагина

Создайте файл в `lua/plugins/` с именем плагина, например:

```lua
-- lua/plugins/my-plugin.lua
return {
    'author/repo',
    config = function()
        -- конфигурация плагина
    end,
    dependencies = { 'dependency/repo' }
}
```

## Настройки

### Лидер клавиш

- Глобальный лидер: `<Space>`
- Локальный лидер: `\`

### Цветовая схема

Конфигурация использует цвета терминала для максимальной совместимости. Neovim автоматически адаптируется под цветовую схему вашего терминала.

Для изменения темы терминала можно установить переменную окружения `TERM_THEME` или изменить настройки в `lua/config/colors.lua`.

### Маппинги

Пользовательские маппинги добавляются в `lua/config/shortcuts.lua`.

**Доступные маппинги:**
- `ff` - Открыть Telescope для поиска файлов

### Поддерживаемые языки (Treesitter)

Конфигурация включает подсветку синтаксиса для следующих языков:

**TypeScript и JavaScript:**
- TypeScript, TSX (TypeScript с JSX), JavaScript (с поддержкой JSX)
- JSDoc комментарии с подсветкой синтаксиса

**Веб-разработка:**
- HTML, CSS, SCSS, JSON, YAML, TOML

**React + TypeScript экосистема:**
- GraphQL, SQL, Dockerfile

**Дополнительные языки:**
- Java, XML, EditorConfig, Markdown
- Bash, Git (ignore, commit, diff), Regex, Lua

Парсеры устанавливаются автоматически при первом использовании соответствующего типа файла (асинхронно, без блокировки запуска Neovim).

Для ручной установки всех парсеров используйте:
```
:TSInstall all
```

Для установки конкретного парсера:
```
:TSInstall typescript
```

**Примечание:** Конфигурация использует `sync_install = false` для предотвращения синхронной установки парсеров при каждом запуске Neovim.

**Устранение проблем с подсветкой TypeScript:**
- Убедитесь, что парсеры установлены: `:TSInstall typescript tsx javascript`
- Проверьте статус парсеров: `:TSInstallInfo`
- Перезагрузите treesitter: `:TSBufEnable highlight`
- Если подсветка не работает, попробуйте обновить парсеры: `:TSUpdate typescript tsx javascript`

## Обновление плагинов

Проверка обновлений плагинов выполняется автоматически в фоновом режиме (раз в час) и не блокирует запуск Neovim.

Для ручного обновления используйте команду в Neovim:
```
:Lazy update
```

Для просмотра доступных обновлений:
```
:Lazy
```

## Дополнительная информация

- Конфигурация использует модульную структуру через `require()`
- Все настройки разделены по модулям для удобства поддержки
- Версии плагинов фиксируются в `lazy-lock.json`
